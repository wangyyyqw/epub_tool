分章助手使用说明：

1、关于“正则表达式”：
　　表达式建议都添加句首符号“^”和句尾符号“$”，避免误杀正文内容。
　　正则表达式输入框可以留空，留空或输入纯空白字符，则不起任何作用。
　　表达式为Python正则语法，可以通过Sigil或Notepad++先测试正则效果。

2、关于“标题级别”：
　　标题级别可选值为1-6，设置后插件会将匹配到的内容对应标题级别套上 h1~h6标签。

３、关于“分割”：
　　分割”选项作用是决定搜索到的标题是否进行分章。
　　如果不勾选，则仅仅会套上h1-h6标签，但不会分割到独立页面。

4、关于“预览”：
　　预览功能可以预先查看插件分章的效果，开始执行前建议进行预览一下。
　　如果预览不显示任何内容，说明插件无法在TXT中匹配到任何标题。

　>>“右击”删除标题：
　　在“预览”界面中，右击对应标题可在该处标题添加“删除线”，再次右击则取消“删除线”。
　　“删除”意味着不会将该处识别为标题，只会当做普通文本处理。
　　需要注意的是，通过预览界面所删除的标题，在改动了正则框的任何内容后，删除记录会失效。

　>>“双击”选取标题文本：
　　在“预览”界面中，双击对应标题可触发对标题文本的选择，选择后可按 Ctrl+C 复制文本。

5、关于工具栏 “+”，“-”，“笔”：
　　“+”：添加正则搜索框，最多添加到15个。
　　“-”：减少正则搜索框。
　　“笔”：编辑预置正则表达式

6、编辑预置正则
　　点击主界面的“笔”形按钮可进入“编辑预置正则”的界面，该处编辑的预置正则，将
　　反馈到正则输入框的预选项目中，并且“自动分析”功能也会用到预置正则表达式。

　>>编辑预置正则界面的“默认级别”：
　　每条预置正则表达式，都对应一个“默认级别”，可输入 1 至 6 级。
　　自动分析功能匹配到该表达式后，可读取对应的“默认级别”并设置到主界面中。
　　需要注意的是，“默认级别”无法决定最终标题级别，最终标题级别以主界面的级别设置为准。

7、关于“模板设置”：
　　模板是一个xhtml页面文件的模板，它的本质是一段xhtml代码，用[MAIN]变量和[TITLE]变量指定内容位置。
　　[MAIN] 变量指定了标题（带h1-h6标签）和正文内容的位置。
　　[TITLE] 变量是一段没有标签的标题文段，一般放在<title>元素中，也可根据需求改变位置。
　　其中 [MAIN] 只能有一个，[TITLE] 变量可以指定多个。

　　本插件提供七个模板，分为【默认模板】和【1-6级模板】，以供标题级别不同的分章采用不同的模板。
　　需要在“模板设置”界面中激活对应模板后，才能让对应级别的分章采用该模板。
　　若不激活对应级别的模板，则一律采用默认模板。

8、 关于“自动分析”：
　　插件可自定分析标题，自动分析的原理是——逐个尝试预置正则，一旦正则能匹配到内容则添加入正则框。
　　虽然插件真正在执行过程中【可防止】重复匹配，但在自动分析过程是【没有防止】重复匹配的，
　　【因此自动分析有可能添加入多个匹配效果相同的表达式】
　　因插件执行中可防止重复匹配，所以就算用了多个效果相同的表达式，
　　也不会影响最终效果，只是仍会微略影响插件运行效率。
　　如果介意，手动清空不需要的正则框内容即可。

★9、 关于“表达式的执行顺序”及“防止重复匹配”：

　　表达式的执行顺序是按正则框位置【由上到下】，
　　由于插件有进行【防止重复匹配】的措施，
　　因此【下一个表达式】一般是无法匹配到【上一个表达式】已经匹配到的内容。
　　（因为插件的防重复匹配措施比较简单，仅仅是匹配到的内容马上套上对应的h1~h6标签，
　　　因此特殊写法，例如不带＾和＄符号的表达式，或带h1~h6标签的表达式有可能重复匹配）

　　利用这一特性，对含有相似内容的标题进行分级具有一定作用，
　　例如下面这种标题：
　　#####################
　　第二卷  翻云覆雨
　　第二卷  第1章  诬陷
　　第二卷  第2章  夺刀
　　#####################
　　如果你期望“第二卷 翻云覆雨”设为一级标题，“第二卷 第N章”设为二级标题。
　　若你先搜索 【^第.卷.*$】，则可能把“第二卷 第N章”也误设为一级标题。
　　可以先搜索【^第.卷 第.章.*$】，再搜索【^第.卷.*$"】，就能达到你的期望。

10、关于断序检查：
　　在预览中开启“断序检查”，插件将提取标题中含有的第一串“中文数字”或“阿拉伯数字”字符串，
　　并转化为可比较的数字类型。如果前一章到后一章的数字值增加一，则标题呈现绿色，否则呈现警戒颜色。
      支持【两千零二】、【二〇〇二】、【2002】、【２００２】之类的数字字符串。
　　注意：【不同级别】的标题是处于【不同比对组】，警戒颜色也不同。
                 若把“第一卷”、“第一章”之类的标题设为不同级别，则其数值不会相互干扰。

11、关于章节字数检查：
　　在“预览”界面中，提供了【章节字数检查】功能。
　　章节字数是指章节正文（不包括标题本身）去除所有空白字符、换行符后，所统计的字数总和。
　　通过统计章节字数可辅助判断章节分割是否准确，以及章节内容是否空缺。

========================================
12、关于文件命名规则
========================================
　　在文件命名规则框输入内容后，按下“回车键”，
　　可把规则保存至下拉菜单，
　　下拉菜单右侧提供"×"键用以删除规则。
　　
12.1 基础规则：
　　文件命名规则采用一种很简单的语法，一个最基础的规则如下：

　　　　标题级别 : 命名字符串{序号变量}

　　以下是一个最基本的命名规则示例：

　　　　h2 : Chapter{000}

　　以上定义了2级标题将生成命名如 Chapter001、Chapter002、...
　　★一个规则中只允许存在一个冒号，
　　冒号前的 h2 是关键字，代表该规则对2级标题生效，
　　冒号前允许的关键字有 default, h1, h2, h3, h4, h5, h6，
　　h1-h6分别代表1-6级标题，default 代表未定义规则的所有级别，
　　例如你只定义了h1和h2的规则，那么h3-h6 都算在default 范围内，
　　default 也涵盖无级别，即第一个标题前面那些简介前言之类的部分

　　冒号后面只区分花括号变量跟普通字符串，具体请看后面讲解

12.2 多规则语法
　　同时定义多个规则的语法是：

　　　　规则1 | 规则2 | 规则3 | ......

　　例如：

　　　　default : Section{0000} | h1 : Vol{00} | h2 : Chapter{000}

　　以上定义了三个规则，分别是默认级别，1级和2级的规则，
　　1级标题将生成的命名如 Vol01、Vol02、Vol03、...
　　2级标题将生成的命名如 Chapter001、Chapter002、...
　　其他级别将生成命名如 Section0001、Section0002、...

12.3 多个级别同规则
　　冒号前，可书写多个级别，用逗号隔开：

　　　　级别1,级别2,... : 规则

　　例子：

　　　　h1,h2,h3 : Chapter{0000}

　　以上例子代表 h1,h2,h3 级别的标题都采用同一个规则

12.4 特殊变量
　　一个规则中只允许存在一个冒号，
　　冒号前面为标题级别，而冒号后面，只区分花括号变量跟普通字符串。
　　在花括号 { } 外部的内容全部都是普通字符串，
　　在花括号 { }内部的，都是特殊变量。
　　花括号 { } 内部允许的变量有 0, $, h1, h2, h3, h4, h5, h6
　　{000} 代表从 001 开始生成3位的系列数字，系列数字在一个级别范围内永远递增。
　　{$$$$} 代表从 0001 开始生成4位的系列数字，系列数字在遇到【父级别】后将归零重新计算。
　　{h1-h6} 代表引用上一个不同级标题的命名，若该级别未定义或不存在该级标题，则引用内容为空。

　　例子：

　　　　h1 : Vol{00} | h2 : {h1}-Chapter{$$$}

　　以上例子，将生成如下标题：
　　Vol01-Chapter001、Vol01-Chapter002、Vol01-Chapter003、...
　　Vol02-Chapter001、Vol02-Chapter002、Vol02-Chapter003、...
　　Vol03-Chapter001、Vol03-Chapter002、Vol03-Chapter003、...

	
12.5 其他
　>>在规则书写中，任何空格符都会被忽略，因此不建议在普通字符串
　　中采用空白符号，如果文件名一定要用空白符，请使用非常规空白符。

　>>default 级别可省略，若不写，则默认规则为 Section{0000}。

　>>若是插件检测到Epub内存在同名文件，将自动调整序号变量至不重名为止。

